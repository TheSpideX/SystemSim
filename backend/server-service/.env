# API Gateway Configuration for Testing

# Server Configuration
SERVER_PORT=8000
SERVER_HOST=0.0.0.0
SERVER_MODE=development

# HTTP/2 Configuration (Strict HTTP/2-only)
HTTP2_ENABLED=true
HTTP2_MAX_CONCURRENT_STREAMS=1000
HTTP2_MAX_FRAME_SIZE=16384
HTTP2_IDLE_TIMEOUT=60s

# TLS Configuration (Mandatory for HTTP/2)
TLS_ENABLED=true
TLS_CERT_FILE=certs/server.crt
TLS_KEY_FILE=certs/server.key
TLS_MIN_VERSION=1.2

# Performance Configuration
MAX_REQUEST_BODY_SIZE=10485760  # 10MB
COMPRESS_RESPONSE=true
KEEP_ALIVE=true

# Backend Services Configuration (will fail to connect - that's OK for testing)
AUTH_SERVICE_GRPC=localhost:9000
AUTH_CONNECTION_TIMEOUT=1s
AUTH_REQUEST_TIMEOUT=5s
AUTH_MAX_CONNECTIONS=5

PROJECT_SERVICE_GRPC=localhost:10000
PROJECT_CONNECTION_TIMEOUT=1s
PROJECT_REQUEST_TIMEOUT=5s
PROJECT_MAX_CONNECTIONS=5

SIMULATION_SERVICE_GRPC=localhost:11000
SIMULATION_CONNECTION_TIMEOUT=1s
SIMULATION_REQUEST_TIMEOUT=5s
SIMULATION_MAX_CONNECTIONS=5

# Redis Configuration (will fail to connect - that's OK for testing)
REDIS_ADDRESS=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MAX_RETRIES=1
REDIS_DIAL_TIMEOUT=1s

# Security Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=1000
CORS_ENABLED=true
ALLOWED_ORIGINS=http://localhost:5174,https://localhost:3000,https://localhost:5173,https://spidexd.local:3000,https://spidexd.local:5173,http://spidexd.local:5174
JWT_SECRET=test-secret-key
